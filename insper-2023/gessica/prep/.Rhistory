), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point() +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5))
df <- data.frame("x", "y", "xend", "yend", "n")
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- -1 * y
df[n, 'y'] <- y
df[n, 'yend'] <- x
df[n, "n"] <- n
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
color = n
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5))
View(df)
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- -1 * y
df[n, 'y'] <- y
df[n, 'yend'] <- x
df[n, "n"] <- n
n <- n + 1
}
}
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x/10
df[n, 'xend'] <- -1 * y/10
df[n, 'y'] <- y
df[n, 'yend'] <- x
df[n, "n"] <- n
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5)) +
scale_x_continuous(limits = c(-5,5))
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- -1 * y/10
df[n, 'y'] <- y
df[n, 'yend'] <- x/10
df[n, "n"] <- n
n <- n + 1
}
}
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- -1 * y/10
df[n, 'y'] <- y
df[n, 'yend'] <- x/10
df[n, "n"] <- n
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5)) +
scale_x_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-1,1)) +
scale_x_continuous(limits = c(-1,1))
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- -1 * y
df[n, 'y'] <- y
df[n, 'yend'] <- x
df[n, "n"] <- n
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-1,1)) +
scale_x_continuous(limits = c(-1,1))
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- -1 * y
df[n, 'y'] <- y
df[n, 'yend'] <- x
df[n, "n"] <- n
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-1,1)) +
scale_x_continuous(limits = c(-1,1))
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- x + -1 * y
df[n, 'y'] <- y
df[n, 'yend'] <- y + x
df[n, "n"] <- n
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-1,1)) +
scale_x_continuous(limits = c(-1,1))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5)) +
scale_x_continuous(limits = c(-5,5))
df <- data.frame()
n <- 1
for (x in x_) {
for (y in y_) {
df[n, 'x'] <- x
df[n, 'xend'] <- x + -1 * y
df[n, 'y'] <- y
df[n, 'yend'] <- y + x
df[n, "n"] <- n
if (x == 0 & y == 0) {
df[n, 'xend'] <- NA
}
n <- n + 1
}
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y)) +
scale_y_continuous(limits = c(-5,5)) +
scale_x_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.25, "cm"))) +
geom_point(aes(x,y))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.2, "cm"))) +
geom_point(aes(x,y))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm"))) +
geom_point(aes(x,y))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm")))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm"))) +
geom_point(aes(x,y), size = 1)
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm"))) +
geom_point(aes(x,y), size = .1)
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm"))) +
geom_point(aes(x,y), size = .5)
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm"))) +
geom_point(aes(x,y), size = .5, alpha = 0.5)
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
alpha = 0.5
), arrow = arrow(ends = "last", length = unit(0.1, "cm"))) +
geom_point(aes(x,y), size = .5, alpha = 0.5) +
scale_x_continuous(limits = c(-5,5)) +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
), arrow = arrow(ends = "last", length = unit(0.1, "cm")), color = "steelblue"
) +
geom_point(aes(x,y), size = .5, alpha = 0.5) +
scale_x_continuous(limits = c(-5,5)) +
scale_y_continuous(limits = c(-5,5))
a <- c(1,0)
x0 <- c(1,0)
euler <- c(x0)
last <- x0
x0 <- c(1,0)
euler <- c(x0)
last <- x0
for (i in (1:10)) {
new_point <- c(
x = last[0] + (-1 * last[1]),
y = last[1] + (last[0])
)
last <- new_point
euler <- c(euler, last)
}
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
), arrow = arrow(ends = "last", length = unit(0.2, "cm")), color = "steelblue"
) +
geom_point(aes(x,y), size = .5, alpha = 0.5) +
scale_x_continuous(limits = c(-5,5)) +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
), arrow = arrow(ends = "last", length = unit(0.2, "cm")), color = "steelblue"
) +
geom_point(aes(x,y), size = .5, alpha = 0.5) +
scale_x_continuous(limits = c(-5,5), breaks = seq(-5,5)) +
scale_y_continuous(limits = c(-5,5))
ggplot(df) + geom_segment(aes(
x = x,
y = y,
xend = xend,
yend = yend,
), arrow = arrow(ends = "last", length = unit(0.2, "cm")), color = "steelblue"
) +
geom_point(aes(x,y), size = .5, alpha = 0.5) +
scale_x_continuous(limits = c(-5,5), breaks = seq(-5,5)) +
scale_y_continuous(limits = c(-5,5), breaks = seq(-5,5))
ggsave("vector-field.png", plot = last_plot(), height = 5, width = 5)
getwd()
sample(20)
sample(20, 0, 10)
sample(10, 20)
sample(20, 10)
sample(100)
dput(sample(100))
a <- sample(100)
c <- data.frame(a)
5/2
5%/%/2
5%2
5%/%2
5%2
5%%2
c <- c %>%
mutate(x = nrow() %% 10, y = nrow() %/% 10 )
c <- c %>%
mutate(x = row_number()%% 10, y = row_number() %/% 10 )
View(c)
c <- data.frame(a)
c <- c %>%
mutate(x = (row_number() - 1) %% 10 + 1, y = row_number() %/% 10 )
c <- c %>%
mutate(x = (row_number() - 1) %% 10 + 1, y = row_number() %/% 10 + 1 )
c <- c %>%
mutate(x = (row_number() - 1) %% 10 + 1, y = (row_number() - 1) %/% 10 + 1 )
ggplot(c) +
geom_text(aes(x = x, y = y, label = c))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_hline(aes(yintercept = x - 0.5)) +
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_hline(aes(yintercept = x - 0.5))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_hline(xintercept = 10.5)
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_hline(xintercept = 10.5) +
geom_hline(aes(yintercept = x - 0.5))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_vline(xintercept = 10.5) +
geom_hline(aes(yintercept = x - 0.5))
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_vline(xintercept = 10.5) +
geom_hline(aes(yintercept = x - 0.5)) +
geom_hline(yintercept = 10.5)
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_vline(xintercept = 10.5) +
geom_hline(aes(yintercept = x - 0.5)) +
geom_hline(yintercept = 10.5) +
theme_none()
ggplot(c) +
geom_text(aes(x = x, y = y, label = a)) +
geom_vline(aes(xintercept = x - 0.5)) +
geom_vline(xintercept = 10.5) +
geom_hline(aes(yintercept = x - 0.5)) +
geom_hline(yintercept = 10.5) +
theme_void()
library(geobr)
library(sf)
library(jsonlite)
library(geojsonsf)
library(tidyverse)
library(rmapshaper)
mun <- read_municipality()
contagem_prefeitas <- read.csv('prefeitas_eleitas_mun.csv') %>% select(
code_muni = codigo_ibge,
qde_prefeitas = FEMININO
)
View(mun)
mun_data <- mun %>%
filter(!(code_muni %in% c(4300001, 4300002))) %>%
rmapshaper::ms_simplify(keep = 0.01) %>%
left_join(contagem_prefeitas) %>%
left_join(nomes_prefeitas) %>%
left_join(contagem_vereadoras) %>%
left_join(nomes_vereadoras)
mun_data <- mun %>%
filter(!(code_muni %in% c(4300001, 4300002)))
contagem_prefeitas <- read.csv('prefeitas_eleitas_mun.csv') %>% select(
code_muni = codigo_ibge,
qde_prefeitas = FEMININO
)
setwd("~/Documents/GitHub/classes/insper-2023/gessica/prep")
contagem_prefeitas <- read.csv('prefeitas_eleitas_mun.csv') %>% select(
code_muni = codigo_ibge,
qde_prefeitas = FEMININO
)
nomes_prefeitas <- read.csv('df_prefeitos.csv') %>%
filter(DS_GENERO == 'FEMININO') %>%
select(code_muni = codigo_ibge,
ANO_ELEICAO,
NM_URNA_CANDIDATO) %>%
arrange(code_muni, ANO_ELEICAO) %>%
mutate(nome = paste0(NM_URNA_CANDIDATO, ' (', ANO_ELEICAO, ')')) %>%
select(-ANO_ELEICAO, -NM_URNA_CANDIDATO) %>%
group_by(code_muni) %>%
summarise(lista_nome_prefeitas = paste(nome, collapse = ';'))
contagem_vereadoras <- read.csv('vereadores_genero.csv') %>% select(
code_muni = codigo_ibge,
qde_vereadoras = FEMININO
)
nomes_vereadoras <- read.csv('df_vereadores.csv') %>%
filter(DS_GENERO == 'FEMININO') %>%
select(code_muni = codigo_ibge,
ANO_ELEICAO,
NM_URNA_CANDIDATO) %>%
arrange(code_muni, ANO_ELEICAO) %>%
mutate(nome = paste0(NM_URNA_CANDIDATO, ' (', ANO_ELEICAO, ')')) %>%
select(-ANO_ELEICAO, -NM_URNA_CANDIDATO) %>%
group_by(code_muni) %>%
summarise(lista_nome_vereadoras = paste(nome, collapse = ';'))
mun_data <- mun %>%
filter(!(code_muni %in% c(4300001, 4300002))) %>%
rmapshaper::ms_simplify(keep = 0.01) %>%
left_join(contagem_prefeitas) %>%
left_join(nomes_prefeitas) %>%
left_join(contagem_vereadoras) %>%
left_join(nomes_vereadoras)
write(
geojsonsf::sf_geojson(
mun_data,
digits = 6
),
'../mun-data-very-simp.json'
)
